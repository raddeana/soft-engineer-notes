### 场景可分为以下 A、B 两类
#### 各平台脚本执行环境以及用于渲染非原生组件的环境是各不相同的
- 在 iOS 上，小程序逻辑层的 javascript 代码运行在 JavaScriptCore 中，视图层是由 WKWebView 来渲染的，环境有 iOS 12、iOS 13 等；
- 在 Android 上，小程序逻辑层的 javascript 代码运行在 V8 中，视图层是由自研 XWeb 引擎基于 Mobile Chrome 内核来渲染的；
- 在 开发工具上，小程序逻辑层的 javascript 代码是运行在 NW.js 中，视图层是由 Chromium Webview 来渲染的。
- 在 PC 上，小程序逻辑层 javascript 和视图层 javascript 都是用 Chrome 内核
- 在 Mac 上，小程序逻辑层的 javascript 代码运行在 JavaScriptCore 中，视图层是由 WKWebView 来渲染的，与 iOS 一致

#### 小程序启动
冷启动：如果用户首次打开，或小程序销毁后被用户再次打开，此时小程序需要重新加载启动，即冷启动
热启动：如果用户已经打开过某小程序，然后在一定时间内再次打开该小程序，此时小程序并未被销毁，只是从后台状态进入前台状态，这个过程就是热启动

#### 小程序销毁时机
只有当小程序进入后台一定时间，或者系统资源占用过高，才会被销毁；具体而言包括以下几种情形：
- 当小程序进入后台，可以维持一小段时间的运行状态，如果这段时间内都未进入前台，小程序会被销毁
- 当小程序占用系统资源过高，可能会被系统销毁或被微信客户端主动回收

#### 启动场景分类
A类，保留上次的浏览状态
- 1001 发现栏小程序主入口，「最近使用」列表（基础库2.2.4版本起包含「我的小程序」列表）
- 1003 星标小程序列表
- 1023 系统桌面小图标打开小程序
- 1038 从其他小程序返回小程序
- 1056 聊天顶部音乐播放器右上角菜单，打开小程序
- 1080 客服会话菜单小程序入口，打开小程序
- 1083 公众号会话菜单小程序入口 ，打开小程序（只有腾讯客服小程序有）
- 1089 聊天主界面下拉，打开小程序/微信聊天主界面下拉，「最近使用」栏（基础库2.2.4版本起包含「我的小程序」栏）
- 1090 长按小程序右上角菜单，打开小程序
- 1103 发现-小程序主入口我的小程序，打开小程序
- 1104 聊天主界面下拉，从我的小程序，打开小程序
- 1113 安卓手机负一屏，打开小程序
- 1114 安卓手机侧边栏，打开小程序
- 1117 后台运行小程序的管理页中，打开小程序

若进入的场景中带有 path，则每次打开小程序时都进入对应的 path 页面
若进入的场景中不带 path：
若小程序是热启动，则保留原来状态
若小程序是冷启动，则遵循下一节的重启策略，可能是首页或上次退出的页面

B类. relaunch 到指定页或首页，包括除 A 类外的其他场景
- 若进入的场景中带有 path，则每次点击时都进入对应的 path 页面
- 若进入的场景中不带 path，则每次进入都打开首页

